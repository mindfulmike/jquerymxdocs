<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>jQueryMX - Listening To Events </title>
	<meta name="description" content="">
	<meta name="author" content="">
	
	<link rel="stylesheet" type="text/css" href="./static/bundles/static.css">
	
	<!--[if lt IE 9]>
   <script type="text/javascript" src="static/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="docs">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand" href="./index.html">jQueryMX</a>
			</div>

			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	
<div class="container api">

	
	<nav class="sidebar">
		
		<ul class="api cascading primary-grouping"> 
	
		
		<li class="search-container active parent">
			<a class="sidebar-title" href="index.html" data-search="jQueryMX">
				jQueryMX
			</a>
			
		</li>
		
		
			
			<li class="search-container active">
			<a class="sidebar-title" href="jQuery.Controller.html" data-search="jQuery.Controller">
				jQuery.Controller
			</a>
			
	<ul>
		
			
				
				
				<li class="search-container active ">
					<a class="page" href="jquery.controller.listening.html" data-search="Listening To Events">
						Listening To Events
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="jquery.controller.plugin.html" data-search="The generated jQuery plugin">
						The generated jQuery plugin
					</a>
				</li>
				
			
			
		
			
				
					<li class="heading search-container">
						<span>prototype</span>
						
	<ul>
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.bind.html" data-search="jQuery.Controller.prototype.bind">
						bind
					</a>
				</li>
				
			
			
		
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.delegate.html" data-search="jQuery.Controller.prototype.delegate">
						delegate
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.destroy.html" data-search="jQuery.Controller.prototype.destroy">
						destroy
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.find.html" data-search="jQuery.Controller.prototype.find">
						find
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.init.html" data-search="jQuery.Controller.prototype.init">
						init
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Controller.prototype.options.html" data-search="jQuery.Controller.prototype.options">
						options
					</a>
				</li>
				
			
			
		
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.setup.html" data-search="jQuery.Controller.prototype.setup">
						setup
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.update.html" data-search="jQuery.Controller.prototype.update">
						update
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.view.html" data-search="jQuery.Controller.prototype.view">
						view
					</a>
				</li>
				
			
			
		
	</ul>

					</li>
				
				
			
			
		
			
				
					<li class="heading search-container">
						<span>static</span>
						
	<ul>
		
			
		
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Controller.static.defaults.html" data-search="jQuery.Controller.static.defaults">
						defaults
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Controller.static.listensTo.html" data-search="jQuery.Controller.static.listensTo">
						listensTo
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Controller.static.pluginname.html" data-search="jQuery.Controller.static.pluginname">
						pluginname
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Controller.static.processors.html" data-search="jQuery.Controller.static.processors">
						processors
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.static.setup.html" data-search="jQuery.Controller.static.setup">
						setup
					</a>
				</li>
				
			
			
		
	</ul>

					</li>
				
				
			
			
		
	</ul>

		</li>
			
		
	
</ul>
	</nav>
	
	
	
	<article class="content docs">
	
	
		
		<section class="title">
			<div class="heading">
<h1>Listening To Events</h1>
	<ul class="tags">
		<li>page</li>
	</ul>
	
	
</div>

<div class="sub-heading">
	
	
		<span class="module">jquery.controller.listening</span>
	
	
	
	<span class="inherits">&nbsp;</span>
</div>

<ul class="links">
	
	
	
	
</ul>
<br />
		</section>
		
		
		
		<section class="contents">
		</section>
		
		
		

		
		<section class="description">
			<p>Controllers make creating and tearing down event handlers extremely
easy.  The tearingdown of event handlers is especially important
in preventing memory leaks in long lived applications.</p>

		</section>
		

		
			
		
		
		
		

		
		<section class="comment">
			<h2>Automatic Binding</h2>
<p>When a <a href="jQuery.Controller.prototype.setup.html">new controller is created</a>,
contoller checks its prototype methods for functions that are named like
event handlers.  It binds these functions to the
controller's [jQuery.Controller.prototype.element element] with
event delegation.  When
the controller is destroyed (or it's element is removed from the page), controller
will unbind its event handlers automatically.</p>
<p>For example, each of the following controller's functions will automatically
bound:</p>
<pre><code>$.Controller(&quot;Crazy&quot;,{

  // listens to all clicks on this element
  &quot;click&quot; : function(el, ev){},
  
  // listens to all mouseovers on 
  // li elements withing this controller
  &quot;li mouseover&quot; : function(el, ev){}
  
  // listens to the window being resized
  &quot;{window} resize&quot; : function(window, ev){}
})
</code></pre>
<p>Controller will bind function names with spaces, standard DOM events, and
event names in $.event.special.</p>
<p>In general, Controller will know automatically when to bind event handler functions except for
one case - event names without selectors that are not in $.event.special.</p>
<p>But to correct for this, you just need to add the
function to the <a href="jQuery.Controller.static.listensTo.html">listensTo</a>
property.  Here's how:</p>
<pre><code> $.Controller(&quot;MyShow&quot;,{
   listensTo: [&quot;show&quot;]
 },{
   show: function( el, ev ) {
     el.show();
   }
 })
 $('.show').my_show().trigger(&quot;show&quot;);
</code></pre>
<h2>Callback parameters</h2>
<p>Event handlers bound with controller are called back with the element and the event
as parameters.  <b>this</b> refers to the controller instance.  For example:</p>
<pre><code>$.Controller(&quot;Tabs&quot;,{

  // li - the list element that was clicked
  // ev - the click event
  &quot;li click&quot; : function(li, ev){
     this.tab(li).hide()
  },
  tab : function(li){
    return $(li.find(&quot;a&quot;).attr(&quot;href&quot;))
  }
})
</code></pre>
<h2>Templated Event Bindings</h2>
<p>One of Controller's most powerful features is templated event
handlers.  You can parameterize the event name,
the selector, or event the root element.</p>
<h3>Templating event names and selectors:</h3>
<p>Often, you want to make a widget's behavior
configurable. A common example is configuring which event
a menu should show a sub-menu (ex: on click or mouseenter).  The
following controller lets you configure when a menu should show
sub-menus:</p>
<p>The following makes two buttons.  One says hello on click,
the other on a 'tap' event.</p>
<pre><code>$.Controller(&quot;Menu&quot;,{
  &quot;li {showEvent}&quot; : function(el){
    el.children('ul').show()
  }
})

$(&quot;#clickMe&quot;).menu({showEvent : &quot;click&quot;});
$(&quot;#touchMe&quot;).menu({showEvent : &quot;mouseenter&quot;});
</code></pre>
<p>$.Controller replaces value in <code>{}</code> with
values in a
controller's <a href="jQuery.Controller.prototype.options.html">options</a>. This means
we can easily provide a default <code>showEvent</code> value and create
a menu without providing a value like:</p>
<pre><code>$.Controller(&quot;Menu&quot;,
{
  defaults : {
    showEvent : &quot;click&quot;
  }
},
{
  &quot;li {showEvent}&quot; : function(el){
    el.children('ul').show()
  }
});

$(&quot;#clickMe&quot;).menu(); //defaults to using click
</code></pre>
<p>Sometimes, we might might want to configure our widget to
use different elements.  The following makes the menu widget's
<code>button</code> elements configurable:</p>
<pre><code>$.Controller(&quot;Menu&quot;,{
  &quot;{button} {showEvent}&quot; : function(el){
    el.children('ul').show()
  }
})

$('#buttonMenu').menu({button: &quot;button&quot;});
</code></pre>
<h3>Templating the root element.</h3>
<p>Finally, controller lets you bind to objects outside
of the [jQuery.Controller.prototype.element controller's element].</p>
<p>The following listens to clicks on the window:</p>
<pre><code>$.Controller(&quot;HideOnClick&quot;,{
  &quot;{window} click&quot; : function(){
    this.element.hide()
  }
})
</code></pre>
<p>The following listens to Todos being created:</p>
<pre><code>$.Controller(&quot;NewTodos&quot;,{
  &quot;{App.Models.Todo} created&quot; : function(Todo, ev, newTodo){
    this.element.append(&quot;newTodos.ejs&quot;, newTodo)
  }
});
</code></pre>
<p>But instead of making NewTodos only work with the Todo model,
we can make it configurable:</p>
<pre><code>$.Controller(&quot;Newbie&quot;,{
  &quot;{model} created&quot; : function(Model, ev, newItem){
    this.element.append(this.options.view, newItem)
  }
});

$('#newItems').newbie({
  model: App.Models.Todo,
  view: &quot;newTodos.ejs&quot;
})
</code></pre>
<h3>How Templated events work</h3>
<p>When looking up a value to replace <code>{}</code>,
controller first looks up the item in the options, then it looks
up the value in the window object.  It does not use eval to look up the
object.  Instead it uses <a href="jQuery.String.getObject.html">jQuery.String.getObject</a>.</p>
<h2>Subscribing to OpenAjax messages and custom bindings</h2>
<p>The jquery/controller/subscribe plugin allows controllers to listen
to OpenAjax.hub messages like:</p>
<pre><code>$.Controller(&quot;Listener&quot;,{
  &quot;something.updated subscribe&quot; : function(called, data){
  
  }
})
</code></pre>
<p>You can create your own binders by adding to <a href="jQuery.Controller.static.processors.html">jQuery.Controller.static.processors</a>.</p>
<h2>Manually binding to events.</h2>
<p>The <a href="jQuery.Controller.prototype.bind.html">jQuery.Controller.prototype.bind</a> and <a href="jQuery.Controller.prototype.delegate.html">jQuery.Controller.prototype.delegate</a>
methods let you listen to events on other elements.  These event handlers will
be unbound when the controller instance is destroyed.</p>

		</section>
		
		

		

		
	
	
	</article>
	
	

</div>





	
	<footer>
		<nav class="container">
			<a class="brand javascriptmvc" href="index.html"></a>
		</nav>
	</footer>
	
	
	<script type="text/javascript">
		var docObject = {"type":"page","name":"jquery.controller.listening","src":"controller/pages/listening.md","description":"Controllers make creating and tearing down event handlers extremely\neasy.  The tearingdown of event handlers is especially important\nin preventing memory leaks in long lived applications.","title":"Listening To Events","parent":"jQuery.Controller","glob":{"ignore":"{node_modules,bower_components}/**/*","pattern":"**/*.{md,js}","cwd":"/Users/webmech/dev/jquerymx"},"debug":true,"dest":"/Users/webmech/dev/docs","generators":["html"],"docConfigDest":"../jquerymx/documentjs.json","project":{}};
	</script>
	
	
		<script>
		  steal = {
		    instantiated: {
		      "bundles/static.css!$css" : null
		    }
		  }
		</script>
		<script type='text/javascript' 
				data-main="static"
				data-config="./static/config.js"
				src="./static/steal.production.js"
	    		bundles-path="bundles"></script>
	
</body>

</html>
