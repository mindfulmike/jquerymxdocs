<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>jQueryMX  - jQuery.Model</title>
	<meta name="description" content="">
	<meta name="author" content="">
	
	<link rel="stylesheet" type="text/css" href="./static/bundles/static.css">
	
	<!--[if lt IE 9]>
   <script type="text/javascript" src="static/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="docs">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand" href="./index.html">jQueryMX</a>
			</div>

			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	
<div class="container api">

	
	<nav class="sidebar">
		
		<ul class="api cascading primary-grouping"> 
	
		
		<li class="search-container active parent">
			<a class="sidebar-title" href="index.html" data-search="jQueryMX">
				jQueryMX
			</a>
			
		</li>
		
		
			
			<li class="search-container active">
			<a class="sidebar-title" href="jQuery.Model.html" data-search="jQuery.Model">
				jQuery.Model
			</a>
			
	<ul>
		
			
				
				
				<li class="search-container">
					<a class="constructor" href="jQuery.Model.List.html" data-search="jQuery.Model.List">
						List
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="jquery.model.deferreds.html" data-search="Deferreds">
						Deferreds
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="jquery.model.encapsulate.html" data-search="Service Encapsulation">
						Service Encapsulation
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="jquery.model.typeconversion.html" data-search="Type Conversion">
						Type Conversion
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="jquery.model.validations.html" data-search="Validations">
						Validations
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="jquerymx.model.backup.html" data-search="Backup / Restore">
						Backup / Restore
					</a>
				</li>
				
			
			
		
			
				
					<li class="heading search-container">
						<span>prototype</span>
						
	<ul>
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.attr.html" data-search="jQuery.Model.prototype.attr">
						attr
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.attrs.html" data-search="jQuery.Model.prototype.attrs">
						attrs
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.bind.html" data-search="jQuery.Model.prototype.bind">
						bind
					</a>
				</li>
				
			
			
		
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.destroy.html" data-search="jQuery.Model.prototype.destroy">
						destroy
					</a>
				</li>
				
			
			
		
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.elements.html" data-search="jQuery.Model.prototype.elements">
						elements
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.errors.html" data-search="jQuery.Model.prototype.errors">
						errors
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.identity.html" data-search="jQuery.Model.prototype.identity">
						identity
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.isNew.html" data-search="jQuery.Model.prototype.isNew">
						isNew
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.removeAttr.html" data-search="jQuery.Model.prototype.removeAttr">
						removeAttr
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.save.html" data-search="jQuery.Model.prototype.save">
						save
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.serialize.html" data-search="jQuery.Model.prototype.serialize">
						serialize
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.setup.html" data-search="jQuery.Model.prototype.setup">
						setup
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.unbind.html" data-search="jQuery.Model.prototype.unbind">
						unbind
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.prototype.update.html" data-search="jQuery.Model.prototype.update">
						update
					</a>
				</li>
				
			
			
		
			
		
	</ul>

					</li>
				
				
			
			
		
			
				
					<li class="heading search-container">
						<span>static</span>
						
	<ul>
		
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Model.static.attributes.html" data-search="jQuery.Model.static.attributes">
						attributes
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.static.bind.html" data-search="jQuery.Model.static.bind">
						bind
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property,Object" href="jQuery.Model.static.convert.html" data-search="jQuery.Model.static.convert">
						convert
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.static.create.html" data-search="jQuery.Model.static.create">
						create
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.static.destroy.html" data-search="jQuery.Model.static.destroy">
						destroy
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.static.findAll.html" data-search="jQuery.Model.static.findAll">
						findAll
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.static.findOne.html" data-search="jQuery.Model.static.findOne">
						findOne
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Model.static.id.html" data-search="jQuery.Model.static.id">
						id
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.static.model.html" data-search="jQuery.Model.static.model">
						model
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.static.models.html" data-search="jQuery.Model.static.models">
						models
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property,Object" href="jQuery.Model.static.serialize.html" data-search="jQuery.Model.static.serialize">
						serialize
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.static.unbind.html" data-search="jQuery.Model.static.unbind">
						unbind
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Model.static.update.html" data-search="jQuery.Model.static.update">
						update
					</a>
				</li>
				
			
			
		
	</ul>

					</li>
				
				
			
			
		
	</ul>

		</li>
			
		
	
</ul>
	</nav>
	
	
	
	<article class="content docs">
	
	
		
		<section class="title">
			<div class="heading">
<h1>jQuery.Model</h1>
	<ul class="tags">
		<li>constructor</li>
	</ul>
	<span class="module">jquery/model</span>
	
</div>

<div class="sub-heading">
	
	
	<span class="inherits">&nbsp;</span>
</div>

<ul class="links">
	
	
	
		<li><a href="../jquerymx/http:/jmvcsite.heroku.com/pluginify?plugins[]=jquery/model/model.js">download</a></li>
	
	
		<li><a href="../jquery/model/qunit.html">tests</a></li>
	
</ul>
<br />
		</section>
		
		
		
		<section class="contents">
		</section>
		
		
		

		
		<section class="description">
			<p>Models and apps data layer.
Models super-charge an application's
data layer, making it easy to:</p>
<ul>
<li>Get and modify data from the server</li>
<li>Listen to changes in data</li>
<li>Setting and retrieving models on elements</li>
<li>Deal with lists of data</li>
<li>Do other good stuff</li>
</ul>
<p>Model inherits from <a href="jQuery.Class.html">$.Class</a> and make use
of REST services and <a href="http://api.jquery.com/category/deferred-object/">deferreds</a>
so these concepts are worth exploring.  Also,
the [mvc.model Get Started with jQueryMX] has a good walkthrough of $.Model.</p>
<h2>Get and modify data from the server</h2>
<p>$.Model makes connecting to a JSON REST service
really easy.  The following models <code>todos</code> by
describing the services that can create, retrieve,
update, and delete todos.</p>
<pre><code>$.Model('Todo',{
  findAll: 'GET /todos.json',
  findOne: 'GET /todos/{id}.json',
  create:  'POST /todos.json',
  update:  'PUT /todos/{id}.json',
  destroy: 'DELETE /todos/{id}.json' 
},{});
</code></pre>
<p>This lets you create, retrieve, update, and delete
todos programatically:</p>
<p><strong>Create</strong></p>
<p>Create a todo instance and
call <code>[$.Model::save save](success, error)</code>
to create the todo on the server.</p>
<pre><code>// create a todo instance
var todo = new Todo({name: &quot;do the dishes&quot;})

// save it on the server
todo.save();
</code></pre>
<p><strong>Retrieve</strong></p>
<p>Retrieve a list of todos from the server with
<code>[$.Model.findAll findAll](params, callback(items))</code>:</p>
<pre><code>Todo.findAll({}, function( todos ){

  // print out the todo names
  $.each(todos, function(i, todo){
    console.log( todo.name );
  });
});
</code></pre>
<p>Retrieve a single todo from the server with
<code>[$.Model.findOne findOne](params, callback(item))</code>:</p>
<pre><code>Todo.findOne({id: 5}, function( todo ){

  // print out the todo name
  console.log( todo.name );
});
</code></pre>
<p><strong>Update</strong></p>
<p>Once an item has been created on the server,
you can change its properties and call
<code>save</code> to update it on the server.</p>
<pre><code>// update the todos' name
todo.attr('name','Take out the trash')
  
// update it on the server
todo.save()
</code></pre>
<p><strong>Destroy</strong></p>
<p>Call <code>[$.Model.prototype.destroy destroy](success, error)</code>
to delete an item on the server.</p>
<pre><code>todo.destroy()
</code></pre>
<h2>Listen to changes in data</h2>
<p>Listening to changes in data is a critical part of
the <a href="http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">Model-View-Controller</a>
architecture.  $.Model lets you listen to when an item is created, updated, destroyed
or its properties are changed. Use
<code>Model.[$.Model.bind bind](eventType, handler(event, model))</code>
to listen to all events of type on a model and
<code>model.[$.Model.prototype.bind bind](eventType, handler(event))</code>
to listen to events on a specific instance.</p>
<p><strong>Create</strong></p>
<pre><code>// listen for when any todo is created
Todo.bind('created', function( ev, todo ) {...})

// listen for when a specific todo is created
var todo = new Todo({name: 'do dishes'})
todo.bind('created', function( ev ) {...})
</code></pre>
<p><strong>Update</strong></p>
<pre><code>// listen for when any todo is updated
Todo.bind('updated', function( ev, todo ) {...})

// listen for when a specific todo is created
Todo.findOne({id: 6}, function( todo ) {
  todo.bind('updated', function( ev ) {...})
})
</code></pre>
<p><strong>Destroy</strong></p>
<pre><code>// listen for when any todo is destroyed
Todo.bind('destroyed', function( ev, todo ) {...})

// listen for when a specific todo is destroyed
todo.bind('destroyed', function( ev ) {...})
</code></pre>
<p><strong>Property Changes</strong></p>
<pre><code>// listen for when the name property changes
todo.bind('name', function(ev){  })
</code></pre>
<p><strong>Listening with Controller</strong></p>
<p>You should be using controller to listen to model changes like:</p>
<pre><code>$.Controller('Todos',{
  &quot;{Todo} updated&quot; : function(Todo, ev, todo) {...}
})
</code></pre>
<h2>Setting and retrieving data on elements</h2>
<p>Almost always, we use HTMLElements to represent
data to the user.  When that data changes, we update those
elements to reflect the new data.</p>
<p>$.Model has helper methods that make this easy.  They
let you &quot;add&quot; a model to an element and also find
all elements that have had a model &quot;added&quot; to them.</p>
<p>Consider a todo list widget
that lists each todo in the page and when a todo is
deleted, removes it.</p>
<p><code><a href="jQuery.fn.model.html">$.fn.model</a>(item)</code> lets you set or read a model
instance from an element:</p>
<pre><code>Todo.findAll({}, function( todos ) {
  
  $.each(todos, function(todo) {
    $('&lt;li&gt;').model(todo)
             .text(todo.name)
             .appendTo('#todos')
  });
});
</code></pre>
<p>When a todo is deleted, get its element with
<code>item.[$.Model.prototype.elements elements](context)</code>
and remove it from the page.</p>
<pre><code>Todo.bind('destroyed', function( ev, todo ) { 
  todo.elements( $('#todos') ).remove()
})
</code></pre>
<p><strong>Using EJS and $.Controller</strong></p>
<p><a href="jQuery.View.html">$.View</a> and [jQuery.EJS EJS] makes adding model data
to elements easy.  We can implement the todos widget like the following:</p>
<pre><code>$.Controller('Todos',{
  init: function(){
    this.element.html('//todos/views/todos.ejs', Todo.findAll({}) ); 
  },
  &quot;{Todo} destroyed&quot;: function(Todo, ev, todo) {
    todo.elements( this.element ).remove()
  }
})
</code></pre>
<p>In todos.ejs</p>
<pre><code class="language-html">&lt;% for(var i =0; i &lt; todos.length; i++){ %&gt;
  &lt;li &lt;%= todos[i] %&gt;&gt;&lt;%= todos[i].name %&gt;&lt;/li&gt;
&lt;% } %&gt;
</code></pre>
<p>Notice how you can add a model to an element with <code>&lt;%= model %&gt;</code></p>
<h2>Lists</h2>
<p>[$.Model.List $.Model.List] lets you handle multiple model instances
with ease.  A List acts just like an <code>Array</code>, but you can add special properties
to it and listen to events on it.</p>
<p><code>$.Model.List</code> has become its own plugin, read about it
[$.Model.List here].</p>
<h2>Other Good Stuff</h2>
<p>Model can make a lot of other common tasks much easier.</p>
<h3>Type Conversion</h3>
<p>Data from the server often needs massaging to make it more useful
for JavaScript.  A typical example is date data which is
commonly passed as
a number representing the Julian date like:</p>
<pre><code>{ name: 'take out trash', 
  id: 1,
  dueDate: 1303173531164 }
</code></pre>
<p>But instead, you want a JavaScript date object:</p>
<pre><code>date.attr('dueDate') //-&gt; new Date(1303173531164)
</code></pre>
<p>By defining property-type pairs in [$.Model.attributes attributes],
you can have model auto-convert values from the server into more useful types:</p>
<pre><code>$.Model('Todo',{
  attributes : {
    dueDate: 'date'
  }
},{})
</code></pre>
<h3>Associations</h3>
<p>The [$.Model.attributes attributes] property also
supports associations. For example, todo data might come back with
User data as an owner property like:</p>
<pre><code>{ name: 'take out trash', 
  id: 1, 
  owner: { name: 'Justin', id: 3} }
</code></pre>
<p>To convert owner into a User model, set the owner type as the User's
[$.Model.model model]<code>( data )</code> method:</p>
<pre><code>$.Model('Todo',{
  attributes : {
    owner: 'User.model'
  }
},{})
</code></pre>
<h3>Helper Functions</h3>
<p>Often, you need to perform repeated calculations
with a model's data.  You can create methods in the model's
prototype and they will be available on
all model instances.</p>
<p>The following creates a <code>timeRemaining</code> method that
returns the number of seconds left to complete the todo:</p>
<pre><code>$.Model('Todo',{
},{
   timeRemaining : function(){
     return new Date() - new Date(this.dueDate)
   }
})

// create a todo
var todo = new Todo({dueDate: new Date()});

// show off timeRemaining
todo.timeRemaining() //-&gt; Number
</code></pre>
<h3>Deferreds</h3>
<p>Model methods that make requests to the server such as:
[$.Model.findAll findAll], [$.Model.findOne findOne],
[$.Model.prototype.save save], and [$.Model.prototype.destroy destroy] return a
<a href="jquery.model.deferreds.html">deferred</a> that resolves to the item(s)
being retrieved or modified.</p>
<p>Deferreds can make a lot of asynchronous code much easier.  For example, the following
waits for all users and tasks before continuing :</p>
<pre><code>$.when(Task.findAll(), User.findAll())
  .then(function( tasksRes, usersRes ){ ... })
</code></pre>
<h3>Validations</h3>
<p><a href="jquery.model.validations.html">Validate</a> your model's attributes.</p>
<pre><code>$.Model(&quot;Contact&quot;,{
init : function(){
    this.validate(&quot;birthday&quot;,function(){
        if(this.birthday &gt; new Date){
            return &quot;your birthday needs to be in the past&quot;
        }
    })
}
,{});
</code></pre>

		</section>
		

		
			
		
		
		
		

		
		

		

		
	
	
	</article>
	
	

</div>





	
	<footer>
		<nav class="container">
			<a class="brand javascriptmvc" href="index.html"></a>
		</nav>
	</footer>
	
	
	<script type="text/javascript">
		var docObject = {"src":"model/model.js","line":176,"codeLine":490,"type":"constructor","description":"Models and apps data layer. \nModels super-charge an application's\ndata layer, making it easy to:\n\n - Get and modify data from the server\n - Listen to changes in data\n - Setting and retrieving models on elements\n - Deal with lists of data\n - Do other good stuff\n\nModel inherits from [jQuery.Class $.Class] and make use\nof REST services and [http://api.jquery.com/category/deferred-object/ deferreds]\nso these concepts are worth exploring.  Also, \nthe [mvc.model Get Started with jQueryMX] has a good walkthrough of $.Model.\n\n\n## Get and modify data from the server\n\n$.Model makes connecting to a JSON REST service \nreally easy.  The following models <code>todos</code> by\ndescribing the services that can create, retrieve,\nupdate, and delete todos. \n\n    $.Model('Todo',{\n      findAll: 'GET /todos.json',\n      findOne: 'GET /todos/{id}.json',\n      create:  'POST /todos.json',\n      update:  'PUT /todos/{id}.json',\n      destroy: 'DELETE /todos/{id}.json' \n    },{});\n\nThis lets you create, retrieve, update, and delete\ntodos programatically:\n\n__Create__\n\nCreate a todo instance and \ncall <code>[$.Model::save save]\\(success, error\\)</code>\nto create the todo on the server.\n    \n    // create a todo instance\n    var todo = new Todo({name: \"do the dishes\"})\n    \n    // save it on the server\n    todo.save();\n\n__Retrieve__\n\nRetrieve a list of todos from the server with\n<code>[$.Model.findAll findAll]\\(params, callback(items)\\)</code>: \n    \n    Todo.findAll({}, function( todos ){\n    \n      // print out the todo names\n      $.each(todos, function(i, todo){\n        console.log( todo.name );\n      });\n    });\n\nRetrieve a single todo from the server with\n<code>[$.Model.findOne findOne]\\(params, callback(item)\\)</code>:\n\n    Todo.findOne({id: 5}, function( todo ){\n    \n      // print out the todo name\n      console.log( todo.name );\n    });\n\n__Update__\n\nOnce an item has been created on the server,\nyou can change its properties and call\n<code>save</code> to update it on the server.\n\n    // update the todos' name\n    todo.attr('name','Take out the trash')\n      \n    // update it on the server\n    todo.save()\n      \n\n__Destroy__\n\nCall <code>[$.Model.prototype.destroy destroy]\\(success, error\\)</code>\nto delete an item on the server.\n\n    todo.destroy()\n\n## Listen to changes in data\n\nListening to changes in data is a critical part of \nthe [http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller Model-View-Controller]\narchitecture.  $.Model lets you listen to when an item is created, updated, destroyed\nor its properties are changed. Use \n<code>Model.[$.Model.bind bind]\\(eventType, handler(event, model)\\)</code>\nto listen to all events of type on a model and\n<code>model.[$.Model.prototype.bind bind]\\(eventType, handler(event)\\)</code>\nto listen to events on a specific instance.\n\n__Create__\n\n    // listen for when any todo is created\n    Todo.bind('created', function( ev, todo ) {...})\n    \n    // listen for when a specific todo is created\n    var todo = new Todo({name: 'do dishes'})\n    todo.bind('created', function( ev ) {...})\n  \n__Update__\n\n    // listen for when any todo is updated\n    Todo.bind('updated', function( ev, todo ) {...})\n    \n    // listen for when a specific todo is created\n    Todo.findOne({id: 6}, function( todo ) {\n      todo.bind('updated', function( ev ) {...})\n    })\n  \n__Destroy__\n\n    // listen for when any todo is destroyed\n    Todo.bind('destroyed', function( ev, todo ) {...})\n   \n    // listen for when a specific todo is destroyed\n    todo.bind('destroyed', function( ev ) {...})\n\n__Property Changes__\n\n    // listen for when the name property changes\n    todo.bind('name', function(ev){  })\n\n__Listening with Controller__\n\nYou should be using controller to listen to model changes like:\n\n    $.Controller('Todos',{\n      \"{Todo} updated\" : function(Todo, ev, todo) {...}\n    })\n\n\n## Setting and retrieving data on elements\n\nAlmost always, we use HTMLElements to represent\ndata to the user.  When that data changes, we update those\nelements to reflect the new data.\n\n$.Model has helper methods that make this easy.  They\nlet you \"add\" a model to an element and also find\nall elements that have had a model \"added\" to them.\n\nConsider a todo list widget\nthat lists each todo in the page and when a todo is\ndeleted, removes it.  \n\n<code>[jQuery.fn.model $.fn.model]\\(item\\)</code> lets you set or read a model \ninstance from an element:\n\n    Todo.findAll({}, function( todos ) {\n      \n      $.each(todos, function(todo) {\n        $('<li>').model(todo)\n                 .text(todo.name)\n                 .appendTo('#todos')\n      });\n    });\n\nWhen a todo is deleted, get its element with\n<code>item.[$.Model.prototype.elements elements]\\(context\\)</code>\nand remove it from the page.\n\n    Todo.bind('destroyed', function( ev, todo ) { \n      todo.elements( $('#todos') ).remove()\n    })\n\n__Using EJS and $.Controller__\n\n[jQuery.View $.View] and [jQuery.EJS EJS] makes adding model data \nto elements easy.  We can implement the todos widget like the following:\n\n    $.Controller('Todos',{\n      init: function(){\n        this.element.html('//todos/views/todos.ejs', Todo.findAll({}) ); \n      },\n      \"{Todo} destroyed\": function(Todo, ev, todo) {\n        todo.elements( this.element ).remove()\n      }\n    })\n\nIn todos.ejs\n\n\n```html\n<% for(var i =0; i < todos.length; i++){ %>\n  <li <%= todos[i] %>><%= todos[i].name %></li>\n<% } %>\n```\nNotice how you can add a model to an element with <code>&lt;%= model %&gt;</code>\n\n## Lists\n\n[$.Model.List $.Model.List] lets you handle multiple model instances\nwith ease.  A List acts just like an <code>Array</code>, but you can add special properties \nto it and listen to events on it.  \n\n<code>$.Model.List</code> has become its own plugin, read about it\n[$.Model.List here].\n\n## Other Good Stuff\n\nModel can make a lot of other common tasks much easier.\n\n### Type Conversion\n\nData from the server often needs massaging to make it more useful \nfor JavaScript.  A typical example is date data which is \ncommonly passed as\na number representing the Julian date like:\n\n    { name: 'take out trash', \n      id: 1,\n      dueDate: 1303173531164 }\n\nBut instead, you want a JavaScript date object:\n\n    date.attr('dueDate') //-> new Date(1303173531164)\n    \nBy defining property-type pairs in [$.Model.attributes attributes],\nyou can have model auto-convert values from the server into more useful types:\n\n    $.Model('Todo',{\n      attributes : {\n        dueDate: 'date'\n      }\n    },{})\n\n### Associations\n\nThe [$.Model.attributes attributes] property also \nsupports associations. For example, todo data might come back with\nUser data as an owner property like:\n\n    { name: 'take out trash', \n      id: 1, \n      owner: { name: 'Justin', id: 3} }\n\nTo convert owner into a User model, set the owner type as the User's\n[$.Model.model model]<code>( data )</code> method:\n\n    $.Model('Todo',{\n      attributes : {\n        owner: 'User.model'\n      }\n    },{})\n\n### Helper Functions\n\nOften, you need to perform repeated calculations \nwith a model's data.  You can create methods in the model's \nprototype and they will be available on \nall model instances.  \n\nThe following creates a <code>timeRemaining</code> method that\nreturns the number of seconds left to complete the todo:\n\n    $.Model('Todo',{\n    },{\n       timeRemaining : function(){\n         return new Date() - new Date(this.dueDate)\n       }\n    })\n    \n    // create a todo\n    var todo = new Todo({dueDate: new Date()});\n    \n    // show off timeRemaining\n    todo.timeRemaining() //-> Number\n\n### Deferreds\n\nModel methods that make requests to the server such as:\n[$.Model.findAll findAll], [$.Model.findOne findOne], \n[$.Model.prototype.save save], and [$.Model.prototype.destroy destroy] return a\n[jquery.model.deferreds deferred] that resolves to the item(s)\nbeing retrieved or modified.  \n\nDeferreds can make a lot of asynchronous code much easier.  For example, the following\nwaits for all users and tasks before continuing :\n\n    $.when(Task.findAll(), User.findAll())\n      .then(function( tasksRes, usersRes ){ ... })\n\n### Validations\n\n[jquery.model.validations Validate] your model's attributes.\n\n    $.Model(\"Contact\",{\n    init : function(){\n        this.validate(\"birthday\",function(){\n            if(this.birthday > new Date){\n                return \"your birthday needs to be in the past\"\n            }\n        })\n    }\n    ,{});","name":"jQuery.Model","title":"","parent":"jquerymx","download":"http://jmvcsite.heroku.com/pluginify?plugins[]=jquery/model/model.js","test":"jquery/model/qunit.html","plugin":"jquery/model","glob":{"ignore":"{node_modules,bower_components}/**/*","pattern":"**/*.{md,js}","cwd":"/Users/webmech/dev/jquerymx"},"debug":true,"dest":"/Users/webmech/dev/docs","generators":["html"],"docConfigDest":"../jquerymx/documentjs.json","project":{}};
	</script>
	
	
		<script>
		  steal = {
		    instantiated: {
		      "bundles/static.css!$css" : null
		    }
		  }
		</script>
		<script type='text/javascript' 
				data-main="static"
				data-config="./static/config.js"
				src="./static/steal.production.js"
	    		bundles-path="bundles"></script>
	
</body>

</html>
