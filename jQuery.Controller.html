<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>jQueryMX  - jQuery.Controller</title>
	<meta name="description" content="">
	<meta name="author" content="">
	
	<link rel="stylesheet" type="text/css" href="./static/bundles/static.css">
	
	<!--[if lt IE 9]>
   <script type="text/javascript" src="static/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="docs">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand" href="./index.html">jQueryMX</a>
			</div>

			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	
<div class="container api">

	
	<nav class="sidebar">
		
		<ul class="api cascading primary-grouping"> 
	
		
		<li class="search-container active parent">
			<a class="sidebar-title" href="index.html" data-search="jQueryMX">
				jQueryMX
			</a>
			
		</li>
		
		
			
			<li class="search-container active">
			<a class="sidebar-title" href="jQuery.Controller.html" data-search="jQuery.Controller">
				jQuery.Controller
			</a>
			
	<ul>
		
			
				
				
				<li class="search-container">
					<a class="page" href="jquery.controller.listening.html" data-search="Listening To Events">
						Listening To Events
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="jquery.controller.plugin.html" data-search="The generated jQuery plugin">
						The generated jQuery plugin
					</a>
				</li>
				
			
			
		
			
				
					<li class="heading search-container">
						<span>prototype</span>
						
	<ul>
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.bind.html" data-search="jQuery.Controller.prototype.bind">
						bind
					</a>
				</li>
				
			
			
		
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.delegate.html" data-search="jQuery.Controller.prototype.delegate">
						delegate
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.destroy.html" data-search="jQuery.Controller.prototype.destroy">
						destroy
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.find.html" data-search="jQuery.Controller.prototype.find">
						find
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.init.html" data-search="jQuery.Controller.prototype.init">
						init
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Controller.prototype.options.html" data-search="jQuery.Controller.prototype.options">
						options
					</a>
				</li>
				
			
			
		
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.setup.html" data-search="jQuery.Controller.prototype.setup">
						setup
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.update.html" data-search="jQuery.Controller.prototype.update">
						update
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.prototype.view.html" data-search="jQuery.Controller.prototype.view">
						view
					</a>
				</li>
				
			
			
		
	</ul>

					</li>
				
				
			
			
		
			
				
					<li class="heading search-container">
						<span>static</span>
						
	<ul>
		
			
		
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Controller.static.defaults.html" data-search="jQuery.Controller.static.defaults">
						defaults
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Controller.static.listensTo.html" data-search="jQuery.Controller.static.listensTo">
						listensTo
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Controller.static.pluginname.html" data-search="jQuery.Controller.static.pluginname">
						pluginname
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="property" href="jQuery.Controller.static.processors.html" data-search="jQuery.Controller.static.processors">
						processors
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="function" href="jQuery.Controller.static.setup.html" data-search="jQuery.Controller.static.setup">
						setup
					</a>
				</li>
				
			
			
		
	</ul>

					</li>
				
				
			
			
		
	</ul>

		</li>
			
		
	
</ul>
	</nav>
	
	
	
	<article class="content docs">
	
	
		
		<section class="title">
			<div class="heading">
<h1>jQuery.Controller</h1>
	<ul class="tags">
		<li>constructor</li>
	</ul>
	<span class="module">jquery/controller</span>
	
</div>

<div class="sub-heading">
	
	
	<span class="inherits">inherits: <a href="jQuery.Class.html">jQuery.Class</a></span>
</div>

<ul class="links">
	
	
	
		<li><a href="../jquerymx/http:/jmvcsite.heroku.com/pluginify?plugins[]=jquery/controller/controller.js">download</a></li>
	
	
		<li><a href="../jquery/controller/qunit.html">tests</a></li>
	
</ul>
<br />
		</section>
		
		
		
		<section class="contents">
		</section>
		
		
		

		
		<section class="description">
			<p>jQuery widget factory.
jQuery.Controller helps create organized, memory-leak free, rapidly performing
jQuery widgets.  Its extreme flexibility allows it to serve as both
a traditional View and a traditional Controller.</p>
<p>This means it is used to
create things like tabs, grids, and contextmenus as well as
organizing them into higher-order business rules.</p>
<p>Controllers make your code deterministic, reusable, organized and can tear themselves
down auto-magically. Read about [http://jupiterjs.com/news/writing-the-perfect-jquery-plugin
the theory behind controller] and
a <a href="http://jupiterjs.com/news/organize-jquery-widgets-with-jquery-controller">walkthrough of its features</a>
on Jupiter's blog. [mvc.controller Get Started with jQueryMX] also has a great walkthrough.</p>
<p>Controller inherits from <a href="jQuery.Class.html">$.Class</a> and makes heavy use of
<a href="http://api.jquery.com/delegate/">event delegation</a>. Make sure
you understand these concepts before using it.</p>
<h2>Basic Example</h2>
<p>Instead of</p>
<pre><code>$(function(){
  $('#tabs').click(someCallbackFunction1)
  $('#tabs .tab').click(someCallbackFunction2)
  $('#tabs .delete click').click(someCallbackFunction3)
});
</code></pre>
<p>do this</p>
<pre><code>$.Controller('Tabs',{
  click: function() {...},
  '.tab click' : function() {...},
  '.delete click' : function() {...}
})
$('#tabs').tabs();
</code></pre>
<h2>Tabs Example</h2>
<div class='demo_wrapper' data-demo-src='jquery/controller/controller.html'></div>
<h2>Using Controller</h2>
<p>Controller helps you build and organize jQuery plugins.  It can be used
to build simple widgets, like a slider, or organize multiple
widgets into something greater.</p>
<p>To understand how to use Controller, you need to understand
the typical lifecycle of a jQuery widget and how that maps to
controller's functionality:</p>
<h3>A controller class is created.</h3>
<pre><code>$.Controller(&quot;MyWidget&quot;,
{
  defaults :  {
    message : &quot;Remove Me&quot;
  }
},
{
  init : function(rawEl, rawOptions){ 
    this.element.append(
       &quot;&lt;div&gt;&quot;+this.options.message+&quot;&lt;/div&gt;&quot;
      );
  },
  &quot;div click&quot; : function(div, ev){ 
    div.remove();
  }  
}) 
</code></pre>
<p>This creates a <code>$.fn.my_widget</code> jQuery helper function
that can be used to create a new controller instance on an element. Find
more information <a href="jquery.controller.plugin.html">here</a> about the plugin gets created
and the rules around its name.</p>
<h3>An instance of controller is created on an element</h3>
<pre><code>$('.thing').my_widget(options) // calls new MyWidget(el, options)
</code></pre>
<p>This calls <code>new MyWidget(el, options)</code> on
each <code>'.thing'</code> element.</p>
<p>When a new <a href="jQuery.Class.html">Class</a> instance is created, it calls the class's
prototype setup and init methods. Controller's <a href="jQuery.Controller.prototype.setup.html">setup</a>
method:</p>
<ul>
<li>Sets [jQuery.Controller.prototype.element this.element] and adds the controller's name to element's className.</li>
<li>Merges passed in options with defaults object and sets it as <a href="jQuery.Controller.prototype.options.html">this.options</a></li>
<li>Saves a reference to the controller in <code>$.data</code>.</li>
<li><a href="jquery.controller.listening.html">Binds all event handler methods</a>.</li>
</ul>
<h3>The controller responds to events</h3>
<p>Typically, Controller event handlers are automatically bound.  However, there are
multiple ways to <a href="jquery.controller.listening.html">listen to events</a> with a controller.</p>
<p>Once an event does happen, the callback function is always called with 'this'
referencing the controller instance.  This makes it easy to use helper functions and
save state on the controller.</p>
<h3>The widget is destroyed</h3>
<p>If the element is removed from the page, the
controller's <a href="jQuery.Controller.prototype.destroy.html">jQuery.Controller.prototype.destroy</a> method is called.
This is a great place to put any additional teardown functionality.</p>
<p>You can also teardown a controller programatically like:</p>
<pre><code>$('.thing').my_widget('destroy');
</code></pre>
<h2>Todos Example</h2>
<p>Lets look at a very basic example -
a list of todos and a button you want to click to create a new todo.
Your HTML might look like:</p>
<pre><code class="language-html">&lt;div id='todos'&gt;
 &lt;ol&gt;
   &lt;li class=&quot;todo&quot;&gt;Laundry&lt;/li&gt;
   &lt;li class=&quot;todo&quot;&gt;Dishes&lt;/li&gt;
   &lt;li class=&quot;todo&quot;&gt;Walk Dog&lt;/li&gt;
 &lt;/ol&gt;
 &lt;a class=&quot;create&quot;&gt;Create&lt;/a&gt;
&lt;/div&gt;
</code></pre>
<p>To add a mousover effect and create todos, your controller might look like:</p>
<pre><code>$.Controller('Todos',{
  &quot;.todo mouseover&quot; : function( el, ev ) {
    el.css(&quot;backgroundColor&quot;,&quot;red&quot;)
  },
  &quot;.todo mouseout&quot; : function( el, ev ) {
    el.css(&quot;backgroundColor&quot;,&quot;&quot;)
  },
  &quot;.create click&quot; : function() {
    this.find(&quot;ol&quot;).append(&quot;&lt;li class='todo'&gt;New Todo&lt;/li&gt;&quot;); 
  }
})
</code></pre>
<p>Now that you've created the controller class, you've must attach the event handlers on the '#todos' div by
creating [jQuery.Controller.prototype.setup|a new controller instance].  There are 2 ways of doing this.</p>
<pre><code class="language-js">//1. Create a new controller directly:
new Todos($('#todos'));
//2. Use jQuery function
$('#todos').todos();
</code></pre>
<h2>Controller Initialization</h2>
<p>It can be extremely useful to add an init method with
setup functionality for your widget.</p>
<p>In the following example, I create a controller that when created, will put a message as the content of the element:</p>
<pre><code>$.Controller(&quot;SpecialController&quot;,
{
  init: function( el, message ) {
    this.element.html(message)
  }
})
$(&quot;.special&quot;).special(&quot;Hello World&quot;)
</code></pre>
<h2>Removing Controllers</h2>
<p>Controller removal is built into jQuery.  So to remove a controller, you just have to remove its element:</p>
<pre><code class="language-js">$(&quot;.special_controller&quot;).remove()
$(&quot;#containsControllers&quot;).html(&quot;&quot;)
</code></pre>
<p>It's important to note that if you use raw DOM methods (<code>innerHTML, removeChild</code>), the controllers won't be destroyed.</p>
<p>If you just want to remove controller functionality, call destroy on the controller instance:</p>
<pre><code class="language-js">$(&quot;.special_controller&quot;).controller().destroy()
</code></pre>
<h2>Accessing Controllers</h2>
<p>Often you need to get a reference to a controller, there are a few ways of doing that.  For the
following example, we assume there are 2 elements with <code>className=&quot;special&quot;</code>.</p>
<pre><code class="language-js">//creates 2 foo controllers
$(&quot;.special&quot;).foo()

//creates 2 bar controllers
$(&quot;.special&quot;).bar()

//gets all controllers on all elements:
$(&quot;.special&quot;).controllers() //-&gt; [foo, bar, foo, bar]

//gets only foo controllers
$(&quot;.special&quot;).controllers(FooController) //-&gt; [foo, foo]

//gets all bar controllers
$(&quot;.special&quot;).controllers(BarController) //-&gt; [bar, bar]

//gets first controller
$(&quot;.special&quot;).controller() //-&gt; foo

//gets foo controller via data
$(&quot;.special&quot;).data(&quot;controllers&quot;)[&quot;FooController&quot;] //-&gt; foo
</code></pre>
<h2>Calling methods on Controllers</h2>
<p>Once you have a reference to an element, you can call methods on it.  However, Controller has
a few shortcuts:</p>
<pre><code class="language-js">//creates foo controller
$(&quot;.special&quot;).foo({name: &quot;value&quot;})

//calls FooController.prototype.update
$(&quot;.special&quot;).foo({name: &quot;value2&quot;})

//calls FooController.prototype.bar
$(&quot;.special&quot;).foo(&quot;bar&quot;,&quot;something I want to pass&quot;)
</code></pre>
<p>These methods let you call one controller from another controller.</p>

		</section>
		

		
			
		
		
		
		

		
		

		

		
	
	
	</article>
	
	

</div>





	
	<footer>
		<nav class="container">
			<a class="brand javascriptmvc" href="index.html"></a>
		</nav>
	</footer>
	
	
	<script type="text/javascript">
		var docObject = {"src":"controller/controller.js","line":75,"codeLine":318,"type":"constructor","description":"jQuery widget factory. \njQuery.Controller helps create organized, memory-leak free, rapidly performing\njQuery widgets.  Its extreme flexibility allows it to serve as both\na traditional View and a traditional Controller.  \n\nThis means it is used to\ncreate things like tabs, grids, and contextmenus as well as \norganizing them into higher-order business rules.\n\nControllers make your code deterministic, reusable, organized and can tear themselves \ndown auto-magically. Read about [http://jupiterjs.com/news/writing-the-perfect-jquery-plugin \nthe theory behind controller] and \na [http://jupiterjs.com/news/organize-jquery-widgets-with-jquery-controller walkthrough of its features]\non Jupiter's blog. [mvc.controller Get Started with jQueryMX] also has a great walkthrough.\n\nController inherits from [jQuery.Class $.Class] and makes heavy use of \n[http://api.jquery.com/delegate/ event delegation]. Make sure \nyou understand these concepts before using it.\n\n## Basic Example\n\nInstead of\n\n\n    $(function(){\n      $('#tabs').click(someCallbackFunction1)\n      $('#tabs .tab').click(someCallbackFunction2)\n      $('#tabs .delete click').click(someCallbackFunction3)\n    });\n\ndo this\n\n    $.Controller('Tabs',{\n      click: function() {...},\n      '.tab click' : function() {...},\n      '.delete click' : function() {...}\n    })\n    $('#tabs').tabs();\n\n\n## Tabs Example\n\n<div class='demo_wrapper' data-demo-src='jquery/controller/controller.html'></div>\n\n## Using Controller\n\nController helps you build and organize jQuery plugins.  It can be used\nto build simple widgets, like a slider, or organize multiple\nwidgets into something greater.\n\nTo understand how to use Controller, you need to understand \nthe typical lifecycle of a jQuery widget and how that maps to\ncontroller's functionality:\n\n### A controller class is created.\n      \n    $.Controller(\"MyWidget\",\n    {\n      defaults :  {\n        message : \"Remove Me\"\n      }\n    },\n    {\n      init : function(rawEl, rawOptions){ \n        this.element.append(\n           \"<div>\"+this.options.message+\"</div>\"\n          );\n      },\n      \"div click\" : function(div, ev){ \n        div.remove();\n      }  \n    }) \n    \nThis creates a <code>$.fn.my_widget</code> jQuery helper function\nthat can be used to create a new controller instance on an element. Find\nmore information [jquery.controller.plugin  here] about the plugin gets created \nand the rules around its name.\n      \n### An instance of controller is created on an element\n\n    $('.thing').my_widget(options) // calls new MyWidget(el, options)\n\nThis calls <code>new MyWidget(el, options)</code> on \neach <code>'.thing'</code> element.  \n    \nWhen a new [jQuery.Class Class] instance is created, it calls the class's\nprototype setup and init methods. Controller's [jQuery.Controller.prototype.setup setup]\nmethod:\n    \n - Sets [jQuery.Controller.prototype.element this.element] and adds the controller's name to element's className.\n - Merges passed in options with defaults object and sets it as [jQuery.Controller.prototype.options this.options]\n - Saves a reference to the controller in <code>$.data</code>.\n - [jquery.controller.listening Binds all event handler methods].\n  \n\n### The controller responds to events\n\nTypically, Controller event handlers are automatically bound.  However, there are\nmultiple ways to [jquery.controller.listening listen to events] with a controller.\n\nOnce an event does happen, the callback function is always called with 'this' \nreferencing the controller instance.  This makes it easy to use helper functions and\nsave state on the controller.\n\n\n### The widget is destroyed\n\nIf the element is removed from the page, the \ncontroller's [jQuery.Controller.prototype.destroy] method is called.\nThis is a great place to put any additional teardown functionality.\n\nYou can also teardown a controller programatically like:\n\n    $('.thing').my_widget('destroy');\n\n## Todos Example\n\nLets look at a very basic example - \na list of todos and a button you want to click to create a new todo.\nYour HTML might look like:\n\n\n```html\n<div id='todos'>\n <ol>\n   <li class=\"todo\">Laundry</li>\n   <li class=\"todo\">Dishes</li>\n   <li class=\"todo\">Walk Dog</li>\n </ol>\n <a class=\"create\">Create</a>\n</div>\n```\nTo add a mousover effect and create todos, your controller might look like:\n\n    $.Controller('Todos',{\n      \".todo mouseover\" : function( el, ev ) {\n        el.css(\"backgroundColor\",\"red\")\n      },\n      \".todo mouseout\" : function( el, ev ) {\n        el.css(\"backgroundColor\",\"\")\n      },\n      \".create click\" : function() {\n        this.find(\"ol\").append(\"<li class='todo'>New Todo</li>\"); \n      }\n    })\n\nNow that you've created the controller class, you've must attach the event handlers on the '#todos' div by\ncreating [jQuery.Controller.prototype.setup|a new controller instance].  There are 2 ways of doing this.\n\n\n```js\n//1. Create a new controller directly:\nnew Todos($('#todos'));\n//2. Use jQuery function\n$('#todos').todos();\n```\n## Controller Initialization\n\nIt can be extremely useful to add an init method with \nsetup functionality for your widget.\n\nIn the following example, I create a controller that when created, will put a message as the content of the element:\n\n    $.Controller(\"SpecialController\",\n    {\n      init: function( el, message ) {\n        this.element.html(message)\n      }\n    })\n    $(\".special\").special(\"Hello World\")\n\n## Removing Controllers\n\nController removal is built into jQuery.  So to remove a controller, you just have to remove its element:\n\n\n```js\n$(\".special_controller\").remove()\n$(\"#containsControllers\").html(\"\")\n```\nIt's important to note that if you use raw DOM methods (<code>innerHTML, removeChild</code>), the controllers won't be destroyed.\n\nIf you just want to remove controller functionality, call destroy on the controller instance:\n\n\n```js\n$(\".special_controller\").controller().destroy()\n```\n## Accessing Controllers\n\nOften you need to get a reference to a controller, there are a few ways of doing that.  For the \nfollowing example, we assume there are 2 elements with <code>className=\"special\"</code>.\n\n\n```js\n//creates 2 foo controllers\n$(\".special\").foo()\n\n//creates 2 bar controllers\n$(\".special\").bar()\n\n//gets all controllers on all elements:\n$(\".special\").controllers() //-> [foo, bar, foo, bar]\n\n//gets only foo controllers\n$(\".special\").controllers(FooController) //-> [foo, foo]\n\n//gets all bar controllers\n$(\".special\").controllers(BarController) //-> [bar, bar]\n\n//gets first controller\n$(\".special\").controller() //-> foo\n\n//gets foo controller via data\n$(\".special\").data(\"controllers\")[\"FooController\"] //-> foo\n```\n## Calling methods on Controllers\n\nOnce you have a reference to an element, you can call methods on it.  However, Controller has\na few shortcuts:\n\n\n```js\n//creates foo controller\n$(\".special\").foo({name: \"value\"})\n\n//calls FooController.prototype.update\n$(\".special\").foo({name: \"value2\"})\n\n//calls FooController.prototype.bar\n$(\".special\").foo(\"bar\",\"something I want to pass\")\n```\nThese methods let you call one controller from another controller.","name":"jQuery.Controller","title":"","parent":"jquerymx","plugin":"jquery/controller","download":"http://jmvcsite.heroku.com/pluginify?plugins[]=jquery/controller/controller.js","test":"jquery/controller/qunit.html","inherits":"jQuery.Class","glob":{"ignore":"{node_modules,bower_components}/**/*","pattern":"**/*.{md,js}","cwd":"/Users/webmech/dev/jquerymx"},"debug":true,"dest":"/Users/webmech/dev/docs","generators":["html"],"docConfigDest":"../jquerymx/documentjs.json","project":{}};
	</script>
	
	
		<script>
		  steal = {
		    instantiated: {
		      "bundles/static.css!$css" : null
		    }
		  }
		</script>
		<script type='text/javascript' 
				data-main="static"
				data-config="./static/config.js"
				src="./static/steal.production.js"
	    		bundles-path="bundles"></script>
	
</body>

</html>
